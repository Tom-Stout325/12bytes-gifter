{% extends "index.html" %}

{% block title %}Set Up Profile | Gifter{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 600px;">
  <h2 class="text-secondary mb-3 text-center">Complete Your Profile</h2>
  <p class="text-muted text-center mb-4">
    This info helps your family pick gifts for you.
  </p>

  <form method="post" enctype="multipart/form-data" novalidate>
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-3">
      <label class="form-label">Family / Household</label>
      {{ form.family }}
      {{ form.family.errors }}
    </div>

    <div class="mb-3">
      <label class="form-label">Role</label>
      {{ form.role }}
      {{ form.role.errors }}
      <div class="form-text">Parent can edit children's info and see purchase info.</div>
    </div>

    <div class="mb-3">
      <label class="form-label">Avatar Choice (preset)</label>
      {{ form.avatar_choice }}
      {{ form.avatar_choice.errors }}
      <div class="form-text">
        Example: "soccer-ball.png", "unicorn.png". Leave blank if uploading your own below.
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Upload Avatar (optional)</label>
      {{ form.avatar_upload }}
      {{ form.avatar_upload.errors }}
    </div>

    <hr class="my-4" />

    <div class="mb-3">
      <label class="form-label">Birthday</label>
      {{ form.birthday }}
      {{ form.birthday.errors }}
    </div>

    <div class="mb-3">
      <label class="form-label">Anniversary (optional)</label>
      {{ form.anniversary }}
      {{ form.anniversary.errors }}
    </div>

    <hr class="my-4" />

    <div class="row">
      <div class="col-sm-4 mb-3">
        <label class="form-label">Shirt Size</label>
        {{ form.shirt_size }}
        {{ form.shirt_size.errors }}
      </div>
      <div class="col-sm-4 mb-3">
        <label class="form-label">Pants Size</label>
        {{ form.pants_size }}
        {{ form.pants_size.errors }}
      </div>
      <div class="col-sm-4 mb-3">
        <label class="form-label">Shoe Size</label>
        {{ form.shoe_size }}
        {{ form.shoe_size.errors }}
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Hobbies / Sports / Interests</label>
      {{ form.hobbies_sports }}
      {{ form.hobbies_sports.errors }}
    </div>

    <div class="mb-3">
      <label class="form-label">Favorite Stores</label>
      {{ form.favorite_stores }}
      {{ form.favorite_stores.errors }}
    </div>

    <div class="mb-3">
      <label class="form-label">Favorite Websites</label>
      {{ form.favorite_websites }}
      {{ form.favorite_websites.errors }}
    </div>

    {% if form.fields.private_notes %}
    <div class="mb-3">
      <label class="form-label">Private Notes (Parent only)</label>
      {{ form.private_notes }}
      {{ form.private_notes.errors }}
      <div class="form-text">
        Only visible to Parent users (and never shown to Children).
      </div>
    </div>
    {% endif %}

    <button type="submit" class="btn btn-primary w-100">
      Save Profile
    </button>
  </form>
</div>
{% endblock %}
